(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/components/wechatMpLogin"],{1930:function(t,e,n){},3672:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=(this._self._c,this.$kt.file.byPath("/image/icon/star.svg"));this.$mp.data=Object.assign({},{$root:{g0:e}})},i=[]},"4ce3":function(t,e,n){"use strict";n.r(e);var a=n("8b27"),i=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(u);e["default"]=i.a},"8ab7":function(t,e,n){"use strict";var a=n("1930"),i=n.n(a);i.a},"8b27":function(t,e,n){"use strict";(function(t){var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("2eee")),u=a(n("c973")),s={data:function(){return{text:""}},mounted:function(){this.login()},methods:{login:function(){var e=this;return(0,u.default)(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.text="正在进行登录",a="",n.next=4,new Promise((function(e,n){t.login({provider:"weixin",success:function(t){a=t.code,e(t)},fail:function(t){n(t)}})}));case 4:e.$kt.request.request({api:e.$api.thirdParty.wechatUser.loginInMp,data:{code:a},stateSuccess:function(n){return e.$kt.request.setToken(n.data.token),e.$selfInfo.set(n.data.user),e.getBalanceSelfMap(),null==n.data.user.fileIdOfAvatar||null==n.data.user.nickname?(t.redirectTo({url:"/pages/init/selfInfoInit"}),!1):getCurrentPages().length>1?(t.navigateBack(),!1):(t.$emit("loginStatus",!0),e.$selfInfo.set(n.data.user),void t.reLaunch({url:"/pages/body/static"}))}}),e.text="登录成功";case 6:case"end":return n.stop()}}),n)})))()},getBalanceSelfMap:function(){var t=this;this.$kt.request.request({api:this.$api.system.balance.getSelfMap,stateSuccess:function(e){t.$system.setBalanceMap(e.data)}})}}};e.default=s}).call(this,n("543d")["default"])},eb33:function(t,e,n){"use strict";n.r(e);var a=n("3672"),i=n("4ce3");for(var u in i)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(u);n("8ab7");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=r.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/login/components/wechatMpLogin-create-component',
    {
        'pages/login/components/wechatMpLogin-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("eb33"))
        })
    },
    [['pages/login/components/wechatMpLogin-create-component']]
]);
