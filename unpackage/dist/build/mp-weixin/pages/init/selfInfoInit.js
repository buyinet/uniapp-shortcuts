(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/init/selfInfoInit"],{"4b0e":function(t,e,n){"use strict";n.r(e);var i=n("9742"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},7110:function(t,e,n){"use strict";n.r(e);var i=n("771a"),a=n("4b0e");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("fccc");var s=n("f0c5"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"c8f98da0",null,!1,i["a"],void 0);e["default"]=o.exports},"771a":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={logoAndTitle:function(){return n.e("components/logo-and-title/logo-and-title").then(n.bind(null,"cc95"))},ktButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uniapp-kantboot/components/kt-button/kt-button")]).then(n.bind(null,"425e"))}},a=function(){var t=this.$createElement;this._self._c},r=[]},"884b":function(t,e,n){},9742:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={components:{avatarInit:function(){n.e("pages/init/inSelfInfoInit/avatarInit").then(function(){return resolve(n("73b8"))}.bind(null,n)).catch(n.oe)},otherInfoInit:function(){n.e("pages/init/inSelfInfoInit/otherInfoInit").then(function(){return resolve(n("decf"))}.bind(null,n)).catch(n.oe)}},data:function(){var e=t.getSystemInfoSync();return{statusBarHeight:e.statusBarHeight,componentOfShow:"otherInfoInit",navHeight:48,avatarSrc:"",requestParam:{fileIdOfAvatar:"",nickname:"",birthday:"",gender:0,introduction:"",sexualOrientationCode:"",sadomasochismAttrCode:[],emotionalOrientationCodeList:[]},tipText:""}},mounted:function(){this.navHeight=44,this.navHeight=-1!=t.getSystemInfoSync().system.indexOf("ios")?44:48},methods:{avatarInitChange:function(t){this.avatarSrc=t},otherInfoInitChange:function(t){this.requestParam.nickname=t.nickname,this.requestParam.birthday=t.birthday+"",this.requestParam.gender=t.gender,this.requestParam.introduction=t.introduction,this.requestParam.sexualOrientationCode=t.sexualOrientationCode,this.requestParam.sadomasochismAttrCode=t.sadomasochismAttrCode,this.requestParam.emotionalOrientationCodeList=t.emotionalOrientationCodeList},emotionalOrientationOpen:function(){this.$refs.submitBtn.loading()},getByGenderAndSexualOrientationCodeFinally:function(){this.$refs.submitBtn.toNone()},toSubmit:function(){var t=this;this.$refs.submitBtn.loading(),""!=this.avatarSrc?""!=this.requestParam.nickname?""!=this.requestParam.gender?""!=this.requestParam.birthday?""!=this.requestParam.sexualOrientationCode?0!=this.requestParam.emotionalOrientationCodeList.length?""!=this.requestParam.sadomasochismAttrCode?""!=this.requestParam.introduction?this.$kt.request.uploadFile({name:"file",formData:{groupCode:"avatar"},filePath:this.avatarSrc,success:function(e){var n=JSON.parse(e.data);t.requestParam.fileIdOfAvatar=n.data.id,t.bindUser()},fail:function(e){t.$refs.submitBtn.error("头像上传失败")}}):this.$refs.submitBtn.error("请填写自我介绍"):this.$refs.submitBtn.error("请选择SM属性"):this.$refs.submitBtn.error("请选择情感取向"):this.$refs.submitBtn.error("请选择性取向"):this.$refs.submitBtn.error("请选择生日"):this.$refs.submitBtn.error("请选择性别"):this.$refs.submitBtn.error("请填写昵称"):this.$refs.submitBtn.error("请上传头像")},bindUser:function(){var e=this;this.$kt.request.request({api:this.$api.business.ovo.userBind.bind,data:this.requestParam,stateSuccess:function(n){e.$refs.submitBtn.success("信息完善成功"),e.$ovo.setSelf(n.data),e.$kt.request.request({api:e.$api.system.balance.getSelfMap,stateSuccess:function(n){e.$system.setBalanceMap(n.data),setTimeout((function(){t.reLaunch({url:"/pages/body/static"})}),200)}})}})}}};e.default=i}).call(this,n("543d")["default"])},bbfa:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("b10a"),n("5c17"),n("a9ff");i(n("66fd"));var a=i(n("7110"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},fccc:function(t,e,n){"use strict";var i=n("884b"),a=n.n(i);a.a}},[["bbfa","common/runtime","common/vendor"]]]);