(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/public/inChatBody/inChatInput/voiceBox"],{2912:function(t,i,e){"use strict";e.r(i);var n=e("efe5"),o=e("eed5");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("7b20");var r=e("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"d1b465a4",null,!1,n["a"],void 0);i["default"]=s.exports},"7b20":function(t,i,e){"use strict";var n=e("a8f2"),o=e.n(n);o.a},a8f2:function(t,i,e){},e596:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=t.getRecorderManager(),n=t.createInnerAudioContext();n.autoplay=!0;var o={data:function(){return{open:!0,isRecording:!1,isPlayShow:!1,bigIndex:-1,timer:null,time:0,voicePath:null,isPlaying:!1,startTime:0}},mounted:function(){var t=this;e.onStop((function(i){console.log("recorder stop"+JSON.stringify(i)),t.time=i.duration,t.voicePath=i.tempFilePath})),e.onPlay((function(t){console.log(t)}))},methods:{toSecond:function(t){return Math.floor(t/1e3)+"s"},toSubmit:function(){var t=this;setTimeout((function(){t.$emit("submit",{type:"voice",path:t.voicePath,duration:t.time})}),100)},toRecord:function(){this.isRecording?this.endRecord():this.startRecord()},startRecord:function(){var t=this;if(this.isRecording)this.endRecord();else{this.isRecording=!0,this.time=0,this.bigIndex=0,e.start({duration:65e3}),this.startTime=(new Date).getTime();setInterval((function(){t.time>=6e4&&t.endRecord()}),10);this.timer=setInterval((function(){t.bigIndex++,t.time=(new Date).getTime()-t.startTime,t.bigIndex>2&&(t.bigIndex=0)}),500)}},endRecord:function(){e.stop(),this.isRecording=!1,this.isPlayShow=!0,clearInterval(this.timer),this.bigIndex=-1},toPlay:function(){this.isPlaying?this.stopRecord():this.playRecord()},playRecord:function(){var t=this;if(this.isPlaying)return!1;if(this.voicePath){this.isPlaying=!0,n.src=this.voicePath,n.play();var i=0;this.timer=setInterval((function(){i++,t.bigIndex=i%3}),500);var e=!1,o=setInterval((function(){t.isPlaying||(e=!0,clearInterval(o))}),10);setTimeout((function(){if(e)return!1;t.isPlaying=!1,clearInterval(t.timer),t.bigIndex=-1}),this.time)}},stopRecord:function(){n.stop(),clearInterval(this.timer),this.isPlaying=!1,this.bigIndex=-1},toDelete:function(){n.stop(),this.time=0,clearInterval(this.timer),this.voicePath=null,this.isPlayShow=!1,this.bigIndex=-1}}};i.default=o}).call(this,e("543d")["default"])},eed5:function(t,i,e){"use strict";e.r(i);var n=e("e596"),o=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},efe5:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=(t._self._c,t.isPlayShow?null:t.toSecond(t.time)),n=t.isPlayShow?t.$kt.file.byPath("image/icon/delete.svg"):null,o=t.isPlayShow?t.$kt.file.byPath("image/icon/tick.svg"):null,a=t.isPlayShow?t.toSecond(t.time):null;t.$mp.data=Object.assign({},{$root:{m0:e,g0:n,g1:o,m1:a}})},o=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/public/inChatBody/inChatInput/voiceBox-create-component',
    {
        'pages/public/inChatBody/inChatInput/voiceBox-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("2912"))
        })
    },
    [['pages/public/inChatBody/inChatInput/voiceBox-create-component']]
]);
